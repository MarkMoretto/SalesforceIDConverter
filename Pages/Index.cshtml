@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <h1 class="display-4">Welcome to the Salesforce ID Converter!</h1>
</div>

<div>
    <div id="input-section">
        <label for="sfid">Salesforce ID: </label>
        <!--<input type="text" id="id-input" name="sfid" onkeypress="updateOutput();" />-->
        <input type="text" id="id-input" name="sfid" />
        <br />
        <label for="sfid-out">New Salesforce ID: </label>
        <input type="text" id="id-output" name="sfid-out" disabled="true" value="" />
        <span id="sample-output"></span>
    </div>
    <div>
        <label>&nbsp;</label>
        <!--<input type="submit" value="Submit" class="submit" onclick="ConvertID();" />-->
        <input type="button" value="Submit" onclick="ConvertID(); return false;" />
        <input type="button" value="Clear" onclick="clearInputs(); return false;"/>
    </div>
</div>


<script>
    /*
    Salesforce ID samples:
    1. 
        Input: 9062I000000ITnk
        Expected Output: 9062I000000ITnkQAG

    2. 
        Input: 90630000000gtfA
        Expected: 90630000000gtfAAAQ
    */

    // Page constants.
    const inputEl = document.querySelector("#id-input");
    const outputEl = document.querySelector("#sample-output");
    const inputSection = document.querySelector("div#input-section");

    // Clear inputs on form.
    function clearInputs() {
        inputSection.querySelectorAll("input").forEach( g => g.value = null );
        inputEl.focus();
    }


    function ConvertID() {
        let newID = IdConverter(inputEl.value);
        document.querySelector("#id-output").value = newID;
    }


    //function updateOutput() {
    //    outputEl.textContent = (inputEl.value === "" || inputEl.value === null ) ? "" : `You typed: ${inputEl.value}`; 
    //}    

</script>